// @bevacqua/rome@v3.0.4, MIT licensed. https://github.com/bevacqua/rome
!function(f){"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).rome=f()}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!u&&l)return l(o,!0);if(i)return i(o,!0);l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports=function(a,n){return Array.prototype.slice.call(a,n)}},{}],2:[function(require,module,exports){"use strict";var crossvent=require("crossvent"),throttle=require("./throttle"),tailormade=require("./tailormade");module.exports=function(el,target,domTarget){var o=domTarget,domTarget=target&&target.tagName;domTarget||2!==arguments.length||(o=target),domTarget||(target=el);var o=o||{},destroyed=!1,throttledWrite=throttle(write,30),tailorOptions={update:!1!==o.autoupdateToCaret&&function(readings){write(readings)}},tailor=o.caret&&tailormade(target,tailorOptions);return write(),!1!==o.tracking&&crossvent.add(window,"resize",throttledWrite),{read:function(){return read()},refresh:write,destroy:function(){tailor&&tailor.destroy();crossvent.remove(window,"resize",throttledWrite),destroyed=!0},sleep:function(){tailorOptions.sleeping=!0}};function read(readings){var bounds=target.getBoundingClientRect(),scrollTop=document.body.scrollTop||document.documentElement.scrollTop;return tailor?{x:((readings=tailor.read()).absolute?0:bounds.left)+readings.x,y:(readings.absolute?0:bounds.top)+scrollTop+readings.y+20}:{x:bounds.left,y:bounds.top+scrollTop}}function write(context){if(destroyed)throw new Error("Bullseye can't refresh after being destroyed. Create another instance instead.");if(tailor&&!context)return tailorOptions.sleeping=!1,void tailor.refresh();var p=read();tailor||target===el||(p.y+=target.offsetHeight);context=o.context;el.style.left=p.x+"px",el.style.top=(context?context.offsetHeight:p.y)+"px"}}},{"./tailormade":3,"./throttle":4,crossvent:7}],3:[function(require,module,exports){!function(global){"use strict";var sell=require("sell"),crossvent=require("crossvent"),seleccion=require("seleccion"),throttle=require("./throttle"),getSelection=seleccion.get,props=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],win=global,doc=document,ff=null!==win.mozInnerScreenX&&void 0!==win.mozInnerScreenX;module.exports=function(el,options){var textInput="INPUT"===el.tagName||"TEXTAREA"===el.tagName,throttledRefresh=throttle(function(){if(!o.sleeping)return(o.update||function(){})(readPosition())},30),o=options||{};return bind(),{read:readPosition,refresh:throttledRefresh,destroy:function(){bind(!0)}};function readPosition(){return(textInput?function(){var readings=sell(el),context=function(){var computed=win.getComputedStyle?getComputedStyle(el):el.currentStyle,mirror=doc.createElement("div"),style=mirror.style;doc.body.appendChild(mirror),"INPUT"!==el.tagName&&(style.wordWrap="break-word");style.whiteSpace="pre-wrap",style.position="absolute",style.visibility="hidden",props.forEach(function(prop){style[prop]=computed[prop]}),ff?(style.width=parseInt(computed.width)-2+"px",el.scrollHeight>parseInt(computed.height)&&(style.overflowY="scroll")):style.overflow="hidden";return{mirror:mirror,computed:computed}}(),readings=function(computed,p){var rest=doc.createElement("span"),mirror=computed.mirror,computed=computed.computed;write(mirror,read(el).substring(0,p)),"INPUT"===el.tagName&&(mirror.textContent=mirror.textContent.replace(/\s/g,"Â "));return write(rest,read(el).substring(p)||"."),mirror.appendChild(rest),{x:rest.offsetLeft+parseInt(computed.borderLeftWidth),y:rest.offsetTop+parseInt(computed.borderTopWidth)}}(context,readings.start);return doc.body.removeChild(context.mirror),readings}:function(){var rects=getSelection();if(rects.rangeCount){rects=rects.getRangeAt(0);if("P"===rects.startContainer.nodeName&&0===rects.startOffset)return{x:rects.startContainer.offsetLeft,y:rects.startContainer.offsetTop,absolute:!0};if(rects.getClientRects){rects=rects.getClientRects();if(0<rects.length)return{x:rects[0].left,y:rects[0].top,absolute:!0}}}return{x:0,y:0}})()}function read(el){return textInput?el.value:el.innerHTML}function write(el,value){textInput?el.textContent=value:el.innerHTML=value}function bind(op){op=op?"remove":"add";crossvent[op](el,"keydown",throttledRefresh),crossvent[op](el,"keyup",throttledRefresh),crossvent[op](el,"input",throttledRefresh),crossvent[op](el,"paste",throttledRefresh),crossvent[op](el,"change",throttledRefresh)}}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./throttle":4,crossvent:7,seleccion:16,sell:18}],4:[function(require,module,exports){"use strict";module.exports=function(fn,boundary){var timer,last=-1/0;return function(){timer||!function unbound(){clearTimeout(timer);timer=null;var next=last+boundary;var now=Date.now();next<now?(last=now,fn()):timer=setTimeout(unbound,next-now)}()}}},{}],5:[function(require,module,exports){"use strict";var ticky=require("ticky");module.exports=function(fn,args,ctx){fn&&ticky(function(){fn.apply(ctx||null,args||[])})}},{ticky:19}],6:[function(require,module,exports){"use strict";var atoa=require("atoa"),debounce=require("./debounce");module.exports=function(thing,options){var opts=options||{},evt={};return(thing=void 0===thing?{}:thing).on=function(type,fn){return evt[type]?evt[type].push(fn):evt[type]=[fn],thing},thing.once=function(type,fn){return fn._once=!0,thing.on(type,fn),thing},thing.off=function(et,fn){var c=arguments.length;if(1===c)delete evt[et];else if(0===c)evt={};else{et=evt[et];if(!et)return thing;et.splice(et.indexOf(fn),1)}return thing},thing.emit=function(){var args=atoa(arguments);return thing.emitterSnapshot(args.shift()).apply(this,args)},thing.emitterSnapshot=function(type){var et=(evt[type]||[]).slice(0);return function(){var args=atoa(arguments),ctx=this||thing;if("error"===type&&!1!==opts.throws&&!et.length)throw 1===args.length?args[0]:args;return et.forEach(function(listen){opts.async?debounce(listen,args,ctx):listen.apply(ctx,args),listen._once&&thing.off(type,listen)}),thing}},thing}},{"./debounce":5,atoa:1}],7:[function(require,module,exports){!function(global){"use strict";var customEvent=require("custom-event"),eventmap=require("./eventmap"),doc=global.document,addEvent=function(el,type,fn,capturing){return el.addEventListener(type,fn,capturing)},removeEvent=function(el,type,fn,capturing){return el.removeEventListener(type,fn,capturing)},hardCache=[];function unwrap(el,i,wrapper){i=function(el,type,fn){var i,item;for(i=0;i<hardCache.length;i++)if((item=hardCache[i]).element===el&&item.type===type&&item.fn===fn)return i}(el,i,wrapper);if(i){wrapper=hardCache[i].wrapper;return hardCache.splice(i,1),wrapper}}global.addEventListener||(addEvent=function(el,type,fn){return el.attachEvent("on"+type,function(el,type,fn){var wrapper=unwrap(el,type,fn)||function(el,fn){return function(originalEvent){var e=originalEvent||global.event;e.target=e.target||e.srcElement,e.preventDefault=e.preventDefault||function(){e.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=!0},e.which=e.which||e.keyCode,fn.call(el,e)}}(el,fn);return hardCache.push({wrapper:wrapper,element:el,type:type,fn:fn}),wrapper}(el,type,fn))},removeEvent=function(el,type,listener){listener=unwrap(el,type,listener);if(listener)return el.detachEvent("on"+type,listener)}),module.exports={add:addEvent,remove:removeEvent,fabricate:function(el,type,e){e=-1===eventmap.indexOf(type)?new customEvent(type,{detail:e}):function(){var e;doc.createEvent?(e=doc.createEvent("Event")).initEvent(type,!0,!0):doc.createEventObject&&(e=doc.createEventObject());return e}();el.dispatchEvent?el.dispatchEvent(e):el.fireEvent("on"+type,e)}}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":8,"custom-event":9}],8:[function(require,module,exports){!function(global){"use strict";var eventmap=[],eventname="",ron=/^on/;for(eventname in global)ron.test(eventname)&&eventmap.push(eventname.slice(2));module.exports=eventmap}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(require,module,exports){!function(global){var NativeCustomEvent=global.CustomEvent;module.exports=function(){try{var p=new NativeCustomEvent("cat",{detail:{foo:"bar"}});return"cat"===p.type&&"bar"===p.detail.foo}catch(e){}}()?NativeCustomEvent:"function"==typeof document.createEvent?function(type,params){var e=document.createEvent("CustomEvent");return params?e.initCustomEvent(type,params.bubbles,params.cancelable,params.detail):e.initCustomEvent(type,!1,!1,void 0),e}:function(type,params){var e=document.createEventObject();return e.type=type,params?(e.bubbles=Boolean(params.bubbles),e.cancelable=Boolean(params.cancelable),e.detail=params.detail):(e.bubbles=!1,e.cancelable=!1,e.detail=void 0),e}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(require,module,exports){!function(global){"use strict";var doc=global.document,getSelectionRaw=require("./getSelectionRaw"),getSelection=require("./getSelectionNullOp"),getSelectionSynthetic=require("./getSelectionSynthetic"),getSelection=require("./isHost").method(global,"getSelection")?getSelectionRaw:"object"==typeof doc.selection&&doc.selection?getSelectionSynthetic:getSelection;module.exports=getSelection}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getSelectionNullOp":11,"./getSelectionRaw":12,"./getSelectionSynthetic":13,"./isHost":14}],11:[function(require,module,exports){"use strict";function noop(){}module.exports=function(){return{removeAllRanges:noop,addRange:noop}}},{}],12:[function(require,module,exports){!function(global){"use strict";module.exports=function(){return global.getSelection()}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(require,module,exports){!function(global){"use strict";var rangeToTextRange=require("./rangeToTextRange"),doc=global.document,body=doc.body,GetSelectionProto=GetSelection.prototype;function GetSelection(selection){var range=selection.createRange();this._selection=selection,this._ranges=[],"Control"===selection.type?updateControlSelection(this):isTextRange(range)?updateFromTextRange(this,range):updateEmptySelection(this)}function updateAnchorAndFocusFromRange(sel,range){sel.anchorNode=range.startContainer,sel.anchorOffset=range.startOffset,sel.focusNode=range.endContainer,sel.focusOffset=range.endOffset}function updateEmptySelection(sel){sel.anchorNode=sel.focusNode=null,sel.anchorOffset=sel.focusOffset=0,sel.rangeCount=0,sel.isCollapsed=!0,sel._ranges.length=0}function rangeContainsSingleElement(rangeNodes){if(rangeNodes.length&&1===rangeNodes[0].nodeType){for(var i=1,len=rangeNodes.length;i<len;++i)if(!function(ancestor,descendant){var node=descendant;for(;node.parentNode;){if(node.parentNode===ancestor)return!0;node=node.parentNode}return!1}(rangeNodes[0],rangeNodes[i]))return;return 1}}function getSingleElementFromRange(nodes){nodes=nodes.getNodes();if(!rangeContainsSingleElement(nodes))throw new Error("getSingleElementFromRange(): range did not consist of a single element");return nodes[0]}function isTextRange(range){return range&&void 0!==range.text}function updateFromTextRange(sel,range){sel._ranges=[range],updateAnchorAndFocusFromRange(sel,range),sel.rangeCount=1,sel.isCollapsed=range.collapsed}function updateControlSelection(sel){if(sel._ranges.length=0,"None"===sel._selection.type)updateEmptySelection(sel);else{var range,controlRange=sel._selection.createRange();if(isTextRange(controlRange))updateFromTextRange(sel,controlRange);else{sel.rangeCount=controlRange.length;for(var i=0;i<sel.rangeCount;++i)(range=doc.createRange()).selectNode(controlRange.item(i)),sel._ranges.push(range);sel.isCollapsed=1===sel.rangeCount&&sel._ranges[0].collapsed,updateAnchorAndFocusFromRange(sel,sel._ranges[sel.rangeCount-1])}}}GetSelectionProto.removeAllRanges=function(){try{this._selection.empty(),"None"!==this._selection.type&&(body.createTextRange().select(),this._selection.empty())}catch(e){}updateEmptySelection(this)},GetSelectionProto.addRange=function(range){"Control"===this._selection.type?function(sel,rangeElement){for(var controlRange=sel._selection.createRange(),rangeElement=getSingleElementFromRange(rangeElement),newControlRange=body.createControlRange(),i=0,len=controlRange.length;i<len;++i)newControlRange.add(controlRange.item(i));try{newControlRange.add(rangeElement)}catch(e){throw new Error("addRange(): Element could not be added to control selection")}newControlRange.select(),updateControlSelection(sel)}(this,range):(rangeToTextRange(range).select(),this._ranges[0]=range,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,updateAnchorAndFocusFromRange(this,range))},GetSelectionProto.setRanges=function(ranges){this.removeAllRanges();var rangeCount=ranges.length;1<rangeCount?function(sel,ranges){for(var el,controlRange=body.createControlRange(),i=0,len=ranges.length;i<len;++i){el=getSingleElementFromRange(ranges[i]);try{controlRange.add(el)}catch(e){throw new Error("setRanges(): Element could not be added to control selection")}}controlRange.select(),updateControlSelection(sel)}(this,ranges):rangeCount&&this.addRange(ranges[0])},GetSelectionProto.getRangeAt=function(index){if(index<0||index>=this.rangeCount)throw new Error("getRangeAt(): index out of bounds");return this._ranges[index].cloneRange()},GetSelectionProto.removeRange=function(range){if("Control"===this._selection.type){for(var controlRange=this._selection.createRange(),rangeElement=getSingleElementFromRange(range),newControlRange=body.createControlRange(),removed=!1,i=0,len=controlRange.length;i<len;++i)controlRange.item(i)!==rangeElement||removed?newControlRange.add(controlRange.item(i)):removed=!0;newControlRange.select(),updateControlSelection(this)}else!function(sel,range){var ranges=sel.getAllRanges();sel.removeAllRanges();for(var i=0,len=ranges.length;i<len;++i)!function(left,right){return left.startContainer===right.startContainer&&left.startOffset===right.startOffset&&left.endContainer===right.endContainer&&left.endOffset===right.endOffset}(range,ranges[i])&&sel.addRange(ranges[i]);sel.rangeCount||updateEmptySelection(sel)}(this,range)},GetSelectionProto.eachRange=function(fn,returnValue){for(var i=0,len=this._ranges.length,i=0;i<len;++i)if(fn(this.getRangeAt(i)))return returnValue},GetSelectionProto.getAllRanges=function(){var ranges=[];return this.eachRange(function(range){ranges.push(range)}),ranges},GetSelectionProto.setSingleRange=function(range){this.removeAllRanges(),this.addRange(range)},module.exports=function(){return new GetSelection(global.document.selection)}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./rangeToTextRange":15}],14:[function(require,module,exports){"use strict";function isHostMethod(host,prop){var type=typeof host[prop];return"function"==type||!("object"!=type||!host[prop])||"unknown"==type}function isHostProperty(host,prop){return void 0!==host[prop]}function many(fn){return function(host,props){for(var i=props.length;i--;)if(!fn(host,props[i]))return!1;return!0}}module.exports={method:isHostMethod,methods:many(isHostMethod),property:isHostProperty,properties:many(isHostProperty)}},{}],15:[function(require,module,exports){!function(global){"use strict";var doc=global.document,body=doc.body;function createBoundaryTextRange(workingNode,starting){var bound,offset=workingNode.offset,range=body.createTextRange(),data=3===(data=(data=workingNode.node).nodeType)||4===data||8===data,parent=data?(bound=workingNode.node).parentNode:(bound=offset<(parent=workingNode.node.childNodes).length?parent[offset]:null,workingNode.node),workingNode=doc.createElement("span");return workingNode.innerHTML="&#feff;",bound?parent.insertBefore(workingNode,bound):parent.appendChild(workingNode),range.moveToElementText(workingNode),range.collapse(!starting),parent.removeChild(workingNode),data&&range[starting?"moveStart":"moveEnd"]("character",offset),range}module.exports=function(textRange){if(textRange.collapsed)return createBoundaryTextRange({node:textRange.startContainer,offset:textRange.startOffset},!0);var startRange=createBoundaryTextRange({node:textRange.startContainer,offset:textRange.startOffset},!0),endRange=createBoundaryTextRange({node:textRange.endContainer,offset:textRange.endOffset},!1);return(textRange=body.createTextRange()).setEndPoint("StartToStart",startRange),textRange.setEndPoint("EndToEnd",endRange),textRange}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(setSelection,module,exports){"use strict";var getSelection=setSelection("./getSelection"),setSelection=setSelection("./setSelection");module.exports={get:getSelection,set:setSelection}},{"./getSelection":10,"./setSelection":17}],17:[function(require,module,exports){!function(global){"use strict";var getSelection=require("./getSelection"),rangeToTextRange=require("./rangeToTextRange"),doc=global.document;module.exports=function(p){var sel,range;doc.createRange?(sel=getSelection(),range=doc.createRange(),p.startContainer&&(p.endContainer?range.setEnd(p.endContainer,p.endOffset):range.setEnd(p.startContainer,p.startOffset),range.setStart(p.startContainer,p.startOffset),sel.removeAllRanges(),sel.addRange(range))):rangeToTextRange(p).select()}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getSelection":10,"./rangeToTextRange":15}],18:[function(require,module,exports){"use strict";var get=function(el){return{start:el.selectionStart,end:el.selectionEnd}},set=function(el,p){el.selectionStart=parse(el,p.start),el.selectionEnd=parse(el,p.end)};function parse(el,value){return"end"===value?el.value.length:value||0}document.selection&&document.selection.createRange&&(get=function(el){var active=document.activeElement;active!==el&&el.focus();var range=document.selection.createRange(),bookmark=range.getBookmark(),original=el.value,marker=function(contents){var marker;for(;marker="@@marker."+Math.random()*new Date,-1!==contents.indexOf(marker););return marker}(original),contents=range.parentElement();if(null===contents||!function(el){return"INPUT"===el.tagName&&"text"===el.type||"TEXTAREA"===el.tagName}(contents))return result(0,0);range.text=marker+range.text+marker;contents=el.value;return el.value=original,range.moveToBookmark(bookmark),range.select(),result(contents.indexOf(marker),contents.lastIndexOf(marker)-marker.length);function result(start,end){return active!==el&&(active?active.focus():el.blur()),{start:start,end:end}}},set=function(el,p){var range=el.createTextRange();"end"===p.start&&"end"===p.end?range.collapse(!1):(range.collapse(!0),range.moveEnd("character",parse(el,p.end)),range.moveStart("character",parse(el,p.start))),range.select()}),module.exports=function(el,p){return 2===arguments.length&&set(el,p),get(el)}},{}],19:[function(require,module,exports){var tick="function"==typeof setImmediate?function(fn){setImmediate(fn)}:function(fn){setTimeout(fn,0)};module.exports=tick},{}],20:[function(require,module,exports){"use strict";var isInput=require("./isInput"),bindings={};function remove(source,target){var invalidate,binding=bindings[source.id];binding&&(invalidate=binding[target.id],source.off("data",invalidate),delete binding[target.id])}module.exports={add:function(source,target){isInput(target.associated)||function(binding,target){return(binding=bindings[binding.id])&&binding[target.id]}(source,target)||function(source,target){var invalidate=function(target){return function(){target.refresh()}}(target);(bindings[source.id]||(bindings[source.id]={}))[target.id]=invalidate,source.on("data",invalidate),source.on("destroyed",remove.bind(null,source,target))}(source,target)},remove:remove}},{"./isInput":30}],21:[function(require,module,exports){"use strict";var no,crossvent=require("crossvent"),emitter=require("contra/emitter"),dom=require("./dom"),text=require("./text"),parse=require("./parse"),clone=require("./clone"),defaults=require("./defaults"),momentum=require("./momentum"),classes=require("./classes"),noop=require("./noop");module.exports=function(calendarOptions){var o,ref,refCal,container,weekdays,weekdayCount,lastYear,lastMonth,lastDay,lastDayElement,datewrapper,back,next,time,timelist,rendered=!1,monthOffsetAttribute="data-rome-offset",calendarMonths=[],secondsInDay=86400,api=emitter({associated:calendarOptions.associated});return init(),setTimeout(ready,0),api;function napi(){return api}function init(initOptions){return o=defaults(initOptions||calendarOptions,api),container=container||dom({className:o.styles.container}),weekdays=o.weekdayFormat,weekdayCount=weekdays.length,lastDayElement=lastDay=lastYear=lastMonth=no,o.appendTo.appendChild(container),removeChildren(container),rendered=!1,ref=o.initialValue||momentum.moment(),refCal=ref.clone(),api.back=subtractMonth,api.container=container,api.destroyed=!1,api.destroy=destroy.bind(api,!1),api.emitValues=emitValues,api.getDate=getDate,api.getDateString=getDateString,api.getMoment=getMoment,api.hide=hide,api.next=addMonth,api.options=changeOptions,api.options.reset=resetOptions,api.refresh=refresh,api.restore=napi,api.setValue=setValue,api.show=show,eventListening(),ready(),api}function ready(){api.emit("ready",clone(o))}function destroy(silent){container&&container.parentNode&&container.parentNode.removeChild(container),o&&eventListening(!0);var destroyed=api.emitterSnapshot("destroyed");return api.back=noop,api.destroyed=!0,api.destroy=napi,api.emitValues=napi,api.getDate=noop,api.getDateString=noop,api.getMoment=noop,api.hide=napi,api.next=noop,api.options=napi,api.options.reset=napi,api.refresh=napi,api.restore=init,api.setValue=napi,api.show=napi,api.off(),!0!==silent&&destroyed(),api}function eventListening(op){op=op?"remove":"add";o.autoHideOnBlur&&crossvent[op](document.documentElement,"focus",hideOnBlur,!0),o.autoHideOnClick&&crossvent[op](document,"click",hideOnClick)}function changeOptions(options){return 0===arguments.length?clone(o):(destroy(),init(options),api)}function resetOptions(){return changeOptions({appendTo:o.appendTo})}function render(){rendered||(rendered=!0,function(){if(o.date){var i;for(calendarMonths=[],datewrapper=dom({className:o.styles.date,parent:container}),i=0;i<o.monthsInCalendar;i++)!function(i){var datehead=dom({className:o.styles.month,parent:datewrapper});0===i&&(back=dom({type:"button",className:o.styles.back,attributes:{type:"button"},parent:datehead}));i===o.monthsInCalendar-1&&(next=dom({type:"button",className:o.styles.next,attributes:{type:"button"},parent:datehead}));var j,label=dom({className:o.styles.monthLabel,parent:datehead}),datebody=dom({type:"table",className:o.styles.dayTable,parent:datehead}),datehead=dom({type:"thead",className:o.styles.dayHead,parent:datebody}),dateheadrow=dom({type:"tr",className:o.styles.dayRow,parent:datehead}),datebody=dom({type:"tbody",className:o.styles.dayBody,parent:datebody});for(j=0;j<weekdayCount;j++)dom({type:"th",className:o.styles.dayHeadElem,parent:dateheadrow,text:weekdays[weekday(j)]});datebody.setAttribute(monthOffsetAttribute,i),calendarMonths.push({label:label,body:datebody})}(i);crossvent.add(back,"click",subtractMonth),crossvent.add(next,"click",addMonth),crossvent.add(datewrapper,"click",pickDay)}}(),function(){if(o.time&&o.timeInterval){var timewrapper=dom({className:o.styles.time,parent:container});time=dom({className:o.styles.selectedTime,parent:timewrapper,text:ref.format(o.timeFormat)}),crossvent.add(time,"click",toggleTimeList),timelist=dom({className:o.styles.timeList,parent:timewrapper}),crossvent.add(timelist,"click",pickTime);for(var next=momentum.moment("00:00:00","HH:mm:ss"),latest=next.clone().add(1,"day");next.isBefore(latest);)dom({className:o.styles.timeOption,parent:timelist,text:next.format(o.timeFormat)}),next=next.add(o.timeInterval,"second")}}(),api.emit("render"))}function weekday(offset,factor){factor=factor?-1:1,offset+=o.weekStart*factor;return(weekdayCount<=offset||offset<0)&&(offset+=weekdayCount*-factor),offset}function toggleTimeList(show){("boolean"==typeof show?show:"none"===timelist.style.display)?timelist&&(timelist.style.display="block"):hideTimeList()}function hideTimeList(){timelist&&(timelist.style.display="none")}function hideCalendar(){"none"!==container.style.display&&(container.style.display="none",api.emit("hide"))}function show(){return render(),refresh(),toggleTimeList(!o.date),container.style.display="inline-block",api.emit("show"),api}function hide(){return hideTimeList(),setTimeout(hideCalendar,0),api}function hideConditionally(){return hideTimeList(),classes.contains(container,o.styles.positioned)&&setTimeout(hideCalendar,0),api}function calendarEventTarget(e){var target=e.target;if(target===api.associated)return 1;for(;target;){if(target===container)return 1;target=target.parentNode}}function hideOnBlur(e){calendarEventTarget(e)||hideConditionally()}function hideOnClick(e){calendarEventTarget(e)||hideConditionally()}function subtractMonth(){changeMonth("subtract")}function addMonth(){changeMonth("add")}function changeMonth(op){var bound=o.monthsInCalendar+("add"===op?-1:1)*getMonthOffset(lastDayElement),bound=inRange((refCal=refCal[op](bound,"month")).clone());ref=bound||ref,bound&&(refCal=bound.clone()),update(),api.emit("add"===op?"next":"back",ref.month())}function update(silent){var m,canStay;o.date&&rendered&&(canStay=refCal.year(),m=refCal.month(),refCal.date()===lastDay&&m===lastMonth&&canStay===lastYear||(canStay=calendarMonths.some(function(cal){return!!lastYear&&sameCalendarMonth(cal.date,refCal)}),lastDay=refCal.date(),lastMonth=refCal.month(),lastYear=refCal.year(),canStay?function(){var day=refCal.date()-1;function cast(like){for(var dest=[],i=0;i<like.length;i++)dest.push(like[i]);return dest}function aggregate(child){return cast(child.children)}function inside(child){return!classes.contains(child,o.styles.dayPrevMonth)&&!classes.contains(child,o.styles.dayNextMonth)}selectDayElement(!1),calendarMonths.forEach(function(days){sameCalendarMonth(days.date,refCal)&&(days=cast(days.body.children).map(aggregate),selectDayElement(Array.prototype.concat.apply([],days).filter(inside)[day]))})}():(calendarMonths.forEach(function(month,offsetCal){offsetCal=refCal.clone().add(offsetCal,"month");text(month.label,offsetCal.format(o.monthFormat)),removeChildren(month.body)}),function(){var i;for(i=0;i<o.monthsInCalendar;i++)!function(nextMonth){var month=calendarMonths[nextMonth],offsetCal=refCal.clone().add(nextMonth,"month"),lastDay=offsetCal.daysInMonth(),current=offsetCal.month()!==ref.month()?-1:ref.date(),first=offsetCal.clone().date(1),firstDay=weekday(first.day(),!0),tr=dom({type:"tr",className:o.styles.dayRow,parent:month.body}),prevMonth=hiddenWhen(0!==nextMonth,[o.styles.dayBodyElem,o.styles.dayPrevMonth]),nextMonth=hiddenWhen(nextMonth!==o.monthsInCalendar-1,[o.styles.dayBodyElem,o.styles.dayNextMonth]),disabled=o.styles.dayDisabled;function part(data){for(var day,node,i=0;i<data.length;i++)tr.children.length===weekdayCount&&(tr=dom({type:"tr",className:o.styles.dayRow,parent:month.body})),day=data.base.clone().add(i,"day"),node=dom({type:"td",parent:tr,text:day.format(o.dayFormat),className:function(day,cell){isInRange(day,!0,o.dateValidator)||cell.push(disabled);return cell}(day,data.cell.join(" ").split(" ")).join(" ")}),data.selectable&&day.date()===current&&selectDayElement(node)}function hiddenWhen(value,cell){return value&&cell.push(o.styles.dayConcealed),cell}part({base:first.clone().subtract(firstDay,"day"),length:firstDay,cell:prevMonth}),part({base:first.clone(),length:lastDay,cell:[o.styles.dayBodyElem],selectable:!0}),part({base:lastDay=first.clone().add(lastDay,"day"),length:weekdayCount-tr.children.length,cell:nextMonth}),back.disabled=!isInRangeLeft(first,!0),next.disabled=!isInRangeRight(lastDay,!0),month.date=offsetCal.clone()}(i)}()))),updateTime(),!0!==silent&&emitValues(),function(){if(o.time&&rendered)for(var date,item,times=timelist.children,length=times.length,i=0;i<length;i++)item=times[i],date=momentum.moment(text(item),o.timeFormat),date=setTime(ref.clone(),date),item.style.display=isInRange(date,!1,o.timeValidator)?"block":"none"}()}function sameCalendarMonth(left,right){return left&&right&&left.year()===right.year()&&left.month()===right.month()}function updateTime(){o.time&&rendered&&text(time,ref.format(o.timeFormat))}function emitValues(){return api.emit("data",getDateString()),api.emit("year",ref.year()),api.emit("month",ref.month()),api.emit("day",ref.day()),api.emit("time",ref.format(o.timeFormat)),api}function refresh(){return update(!(lastDay=lastMonth=lastYear=!1)),api}function setValue(date){date=parse(date,o.inputFormat);if(null!==date)return ref=inRange(date)||ref,refCal=ref.clone(),update(!0),api}function removeChildren(elem,self){for(;elem&&elem.firstChild;)elem.removeChild(elem.firstChild);!0===self&&elem.parentNode.removeChild(elem)}function isInRange(date,allday,validator){return isInRangeLeft(date,allday)&&(isInRangeRight(date,allday)&&!1!==(validator||Function.prototype).call(api,date.toDate()))}function isInRangeLeft(date,min){min=!!o.min&&(min?o.min.clone().startOf("day"):o.min);return!min||!date.isBefore(min)}function isInRangeRight(date,max){max=!!o.max&&(max?o.max.clone().endOf("day"):o.max);return!max||!date.isAfter(max)}function inRange(date){if(o.min&&date.isBefore(o.min))return inRange(o.min.clone());if(o.max&&date.isAfter(o.max))return inRange(o.max.clone());var value=date.clone().subtract(1,"day");return validateTowards(value,date,"add")||validateTowards(value=date.clone(),date,"subtract")?inTimeRange(value):void 0}function inTimeRange(value){for(var copy=value.clone().subtract(o.timeInterval,"second"),times=Math.ceil(secondsInDay/o.timeInterval),i=0;i<times;i++)if((copy=copy.add(o.timeInterval,"second")).date()>value.date()&&(copy=copy.subtract(1,"day")),!1!==o.timeValidator.call(api,copy.toDate()))return copy}function validateTowards(value,date,op){for(var valid=!1;!1===valid&&(value=value[op](1,"day")).month()===date.month();)valid=o.dateValidator.call(api,value.toDate());return!1!==valid}function pickDay(offset){var day,prev,next,target=offset.target;!classes.contains(target,o.styles.dayDisabled)&&classes.contains(target,o.styles.dayBodyElem)&&(day=parseInt(text(target),10),prev=classes.contains(target,o.styles.dayPrevMonth),next=classes.contains(target,o.styles.dayNextMonth),offset=getMonthOffset(target)-getMonthOffset(lastDayElement),ref=ref.add(offset,"month"),(prev||next)&&(ref=ref.add(prev?-1:1,"month")),selectDayElement(target),ref=setTime(ref=ref.date(day),inRange(ref)||ref),refCal=ref.clone(),!0===o.autoClose&&hideConditionally(),update())}function selectDayElement(node){lastDayElement&&classes.remove(lastDayElement,o.styles.selectedDay),node&&classes.add(node,o.styles.selectedDay),lastDayElement=node}function getMonthOffset(elem){for(var offset;elem&&elem.getAttribute;){if("string"==typeof(offset=elem.getAttribute(monthOffsetAttribute)))return parseInt(offset,10);elem=elem.parentNode}return 0}function setTime(to,from){return to=to.hour(from.hour()).minute(from.minute()).second(from.second())}function pickTime(value){var value=value.target;classes.contains(value,o.styles.timeOption)&&(value=momentum.moment(text(value),o.timeFormat),ref=setTime(ref,value),refCal=ref.clone(),emitValues(),updateTime(),(!o.date&&!0===o.autoClose||"time"===o.autoClose?hideConditionally:hideTimeList)())}function getDate(){return ref.toDate()}function getDateString(format){return ref.format(format||o.inputFormat)}function getMoment(){return ref.clone()}}},{"./classes":22,"./clone":23,"./defaults":25,"./dom":26,"./momentum":31,"./noop":32,"./parse":33,"./text":45,"contra/emitter":6,crossvent:7}],22:[function(require,module,exports){"use strict";var trim=/^\s+|\s+$/g,whitespace=/\s+/;function classes(node){return node.className.replace(trim,"").split(whitespace)}function set(node,value){node.className=value.join(" ")}function remove(node,i){var values=classes(node),i=values.indexOf(i);return-1!==i&&(values.splice(i,1),set(node,values)),values}module.exports={add:function(node,value){var values=remove(node,value);values.push(value),set(node,values)},remove:remove,contains:function(node,value){return-1!==classes(node).indexOf(value)}}},{}],23:[function(require,module,exports){"use strict";var momentum=require("./momentum");module.exports=function clone(thing){var value,key,copy={};for(key in thing)(value=thing[key])?momentum.isMoment(value)?copy[key]=value.clone():value._isStylesConfiguration?copy[key]=clone(value):copy[key]=value:copy[key]=value;return copy}},{"./momentum":31}],24:[function(require,module,exports){"use strict";var index=require("./index"),input=require("./input"),inline=require("./inline"),isInput=require("./isInput");module.exports=function(elem,cal){var existing=index.find(elem);return existing||(cal=(isInput(elem)?input:inline)(elem,cal),index.assign(elem,cal),cal)}},{"./index":27,"./inline":28,"./input":29,"./isInput":30}],25:[function(require,module,exports){"use strict";var parse=require("./parse"),isInput=require("./isInput"),momentum=require("./momentum");module.exports=function(o,cal){var no;if((o=o||{}).autoHideOnClick===no&&(o.autoHideOnClick=!0),o.autoHideOnBlur===no&&(o.autoHideOnBlur=!0),o.autoClose===no&&(o.autoClose=!0),o.appendTo===no&&(o.appendTo=document.body),"parent"===o.appendTo){if(!isInput(cal.associated))throw new Error("Inline calendars must be appended to a parent node explicitly.");o.appendTo=cal.associated.parentNode}if(o.invalidate===no&&(o.invalidate=!0),o.required===no&&(o.required=!1),o.date===no&&(o.date=!0),o.time===no&&(o.time=!0),!1===o.date&&!1===o.time)throw new Error("At least one of `date` or `time` must be `true`.");if(o.inputFormat===no&&(o.date&&o.time?o.inputFormat="YYYY-MM-DD HH:mm":o.date?o.inputFormat="YYYY-MM-DD":o.inputFormat="HH:mm"),o.initialValue===no?o.initialValue=null:o.initialValue=parse(o.initialValue,o.inputFormat),o.min===no?o.min=null:o.min=parse(o.min,o.inputFormat),o.max===no?o.max=null:o.max=parse(o.max,o.inputFormat),o.timeInterval===no&&(o.timeInterval=1800),o.min&&o.max)if(o.max.isBefore(o.min)&&(styl=o.max,o.max=o.min,o.min=styl),!0===o.date){if(o.max.clone().subtract(1,"day").isBefore(o.min))throw new Error("`max` must be at least one day after `min`")}else if(1e3*o.timeInterval-o.min%(1e3*o.timeInterval)>o.max-o.min)throw new Error("`min` to `max` range must allow for at least one time option that matches `timeInterval`");if(o.dateValidator===no&&(o.dateValidator=Function.prototype),o.timeValidator===no&&(o.timeValidator=Function.prototype),o.timeFormat===no&&(o.timeFormat="HH:mm"),o.weekStart===no&&(o.weekStart=momentum.moment().weekday(0).day()),o.weekdayFormat===no&&(o.weekdayFormat="min"),"long"===o.weekdayFormat)o.weekdayFormat=momentum.moment.weekdays();else if("short"===o.weekdayFormat)o.weekdayFormat=momentum.moment.weekdaysShort();else if("min"===o.weekdayFormat)o.weekdayFormat=momentum.moment.weekdaysMin();else if(!Array.isArray(o.weekdayFormat)||o.weekdayFormat.length<7)throw new Error("`weekdays` must be `min`, `short`, or `long`");o.monthsInCalendar===no&&(o.monthsInCalendar=1),o.monthFormat===no&&(o.monthFormat="MMMM YYYY"),o.dayFormat===no&&(o.dayFormat="DD"),o.styles===no&&(o.styles={}),o.styles._isStylesConfiguration=!0;var styl=o.styles;return styl.back===no&&(styl.back="rd-back"),styl.container===no&&(styl.container="rd-container"),styl.positioned===no&&(styl.positioned="rd-container-attachment"),styl.date===no&&(styl.date="rd-date"),styl.dayBody===no&&(styl.dayBody="rd-days-body"),styl.dayBodyElem===no&&(styl.dayBodyElem="rd-day-body"),styl.dayPrevMonth===no&&(styl.dayPrevMonth="rd-day-prev-month"),styl.dayNextMonth===no&&(styl.dayNextMonth="rd-day-next-month"),styl.dayDisabled===no&&(styl.dayDisabled="rd-day-disabled"),styl.dayConcealed===no&&(styl.dayConcealed="rd-day-concealed"),styl.dayHead===no&&(styl.dayHead="rd-days-head"),styl.dayHeadElem===no&&(styl.dayHeadElem="rd-day-head"),styl.dayRow===no&&(styl.dayRow="rd-days-row"),styl.dayTable===no&&(styl.dayTable="rd-days"),styl.month===no&&(styl.month="rd-month"),styl.monthLabel===no&&(styl.monthLabel="rd-month-label"),styl.next===no&&(styl.next="rd-next"),styl.selectedDay===no&&(styl.selectedDay="rd-day-selected"),styl.selectedTime===no&&(styl.selectedTime="rd-time-selected"),styl.time===no&&(styl.time="rd-time"),styl.timeList===no&&(styl.timeList="rd-time-list"),styl.timeOption===no&&(styl.timeOption="rd-time-option"),o}},{"./isInput":30,"./momentum":31,"./parse":33}],26:[function(require,module,exports){"use strict";module.exports=function(options){var o=options||{};o.type||(o.type="div");var elem=document.createElement(o.type);return o.className&&(elem.className=o.className),o.text&&(elem.innerText=elem.textContent=o.text),o.attributes&&Object.keys(o.attributes).forEach(function(key){elem.setAttribute(key,o.attributes[key])}),o.parent&&o.parent.appendChild(elem),elem}},{}],27:[function(require,module,exports){"use strict";var index=[];module.exports={find:function find(existing){if("number"!=typeof existing&&existing&&existing.getAttribute)return find(existing.getAttribute("data-rome-id"));existing=index[existing];return void 0!==existing?existing:null},assign:function(elem,instance){elem.setAttribute("data-rome-id",instance.id=index.push(instance)-1)}}},{}],28:[function(require,module,exports){"use strict";var calendar=require("./calendar");module.exports=function(elem,cal){return(cal=cal||{}).appendTo=elem,cal.associated=elem,(cal=calendar(cal)).show(),cal}},{"./calendar":21}],29:[function(require,module,exports){"use strict";var crossvent=require("crossvent"),bullseye=require("bullseye"),throttle=require("./throttle"),defaults=(require("./clone"),require("./defaults")),calendar=require("./calendar"),momentum=require("./momentum"),classes=require("./classes");module.exports=function(input,calendarOptions){var o=calendarOptions||{};o.associated=input;var ignoreInvalidation,ignoreShow,eye,api=calendar(o),throttledTakeInput=throttle(function(){var date=input.value.trim();isEmpty()||(date=momentum.moment(date,o.inputFormat,o.strictParse),api.setValue(date))},30);return init(o),api;function init(initOptions){o=defaults(initOptions||o,api),classes.add(api.container,o.styles.positioned),crossvent.add(api.container,"mousedown",containerMouseDown),crossvent.add(api.container,"click",containerClick),api.getDate=unrequire(api.getDate),api.getDateString=unrequire(api.getDateString),api.getMoment=unrequire(api.getMoment),o.initialValue&&(input.value=o.initialValue.format(o.inputFormat)),eye=bullseye(api.container,input),api.on("data",updateInput),api.on("show",eye.refresh),eventListening(),throttledTakeInput()}function destroy(){eventListening(!0),eye.destroy(),eye=null}function eventListening(remove){var op=remove?"remove":"add";crossvent[op](input,"click",show),crossvent[op](input,"touchend",show),crossvent[op](input,"focusin",show),crossvent[op](input,"change",throttledTakeInput),crossvent[op](input,"keypress",throttledTakeInput),crossvent[op](input,"keydown",throttledTakeInput),crossvent[op](input,"input",throttledTakeInput),o.invalidate&&crossvent[op](input,"blur",invalidateInput),remove?(api.once("ready",init),api.off("destroyed",destroy)):(api.off("ready",init),api.once("destroyed",destroy))}function containerClick(){ignoreShow=!0,input.focus(),ignoreShow=!1}function containerMouseDown(){ignoreInvalidation=!0,setTimeout(function(){ignoreInvalidation=!1},0)}function invalidateInput(){ignoreInvalidation||isEmpty()||api.emitValues()}function show(){ignoreShow||api.show()}function updateInput(data){input.value=data}function isEmpty(){return!1===o.required&&""===input.value.trim()}function unrequire(fn){return function(){return isEmpty()?null:fn.apply(this,arguments)}}}},{"./calendar":21,"./classes":22,"./clone":23,"./defaults":25,"./momentum":31,"./throttle":46,bullseye:2,crossvent:7}],30:[function(require,module,exports){"use strict";module.exports=function(elem){return elem&&elem.nodeName&&"input"===elem.nodeName.toLowerCase()}},{}],31:[function(require,module,exports){"use strict";module.exports={moment:null,isMoment:function(value){return value&&Object.prototype.hasOwnProperty.call(value,"_isAMomentObject")}}},{}],32:[function(require,module,exports){"use strict";module.exports=function(){}},{}],33:[function(require,module,exports){"use strict";var momentum=require("./momentum");module.exports=function(date,m){return(m=function(date,format){return"string"==typeof date?momentum.moment(date,format):"[object Date]"===Object.prototype.toString.call(date)?momentum.moment(date):date&&date.clone?date.clone():void 0}(date,"string"==typeof m?m:null))&&m.isValid()?m:null}},{"./momentum":31}],34:[function(require,module,exports){"use strict";Array.prototype.filter||(Array.prototype.filter=function(fn,ctx){var f=[];return this.forEach(function(v,i,t){fn.call(ctx,v,i,t)&&f.push(v)},ctx),f})},{}],35:[function(require,module,exports){"use strict";Array.prototype.forEach||(Array.prototype.forEach=function(fn,ctx){if(null==this||"function"!=typeof fn)throw new TypeError;for(var t=this,len=t.length,i=0;i<len;i++)i in t&&fn.call(ctx,t[i],i,t)})},{}],36:[function(require,module,exports){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(what,start){if(null==this)throw new TypeError;var length=this.length;for(start=+start||0,(Math.abs(start)===1/0||start<0&&(start+=length)<0)&&(start=0);start<length;start++)if(this[start]===what)return start;return-1})},{}],37:[function(require,module,exports){"use strict";Array.isArray||(Array.isArray=function(a){return""+a!==a&&"[object Array]"===Object.prototype.toString.call(a)})},{}],38:[function(require,module,exports){"use strict";Array.prototype.map||(Array.prototype.map=function(fn,ctx){var context,result,i;if(null==this)throw new TypeError("this is null or not defined");var source=Object(this),len=source.length>>>0;if("function"!=typeof fn)throw new TypeError(fn+" is not a function");for(1<arguments.length&&(context=ctx),result=new Array(len),i=0;i<len;)i in source&&(result[i]=fn.call(context,source[i],i,source)),i++;return result})},{}],39:[function(require,module,exports){"use strict";Array.prototype.some||(Array.prototype.some=function(fn,ctx){var context,i;if(null==this)throw new TypeError("this is null or not defined");var source=Object(this),len=source.length>>>0;if("function"!=typeof fn)throw new TypeError(fn+" is not a function");for(1<arguments.length&&(context=ctx),i=0;i<len;){if(i in source)if(fn.call(context,source[i],i,source))return!0;i++}return!1})},{}],40:[function(require,module,exports){"use strict";Function.prototype.bind||(Function.prototype.bind=function(context){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function bound(){var ctx=this instanceof NoOp&&context?this:context,args=curried.concat(Array.prototype.slice.call(arguments));return original.apply(ctx,args)}var curried=Array.prototype.slice.call(arguments,1),original=this,NoOp=function(){};return NoOp.prototype=this.prototype,bound.prototype=new NoOp,bound})},{}],41:[function(require,module,exports){"use strict";var hasOwn=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;Object.keys||(Object.keys=function(obj){if("object"!=typeof obj&&("function"!=typeof obj||null===obj))throw new TypeError("Object.keys called on non-object");var prop,i,result=[];for(prop in obj)hasOwn.call(obj,prop)&&result.push(prop);if(hasDontEnumBug)for(i=0;i<dontEnumsLength;i++)hasOwn.call(obj,dontEnums[i])&&result.push(dontEnums[i]);return result})},{}],42:[function(require,module,exports){"use strict";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},{}],43:[function(require,module,exports){"use strict";require("./polyfills/function.bind"),require("./polyfills/array.foreach"),require("./polyfills/array.map"),require("./polyfills/array.filter"),require("./polyfills/array.isarray"),require("./polyfills/array.indexof"),require("./polyfills/array.some"),require("./polyfills/string.trim"),require("./polyfills/object.keys");var core=require("./core"),index=require("./index"),use=require("./use");core.use=use.bind(core),core.find=index.find,core.val=require("./validators"),module.exports=core},{"./core":24,"./index":27,"./polyfills/array.filter":34,"./polyfills/array.foreach":35,"./polyfills/array.indexof":36,"./polyfills/array.isarray":37,"./polyfills/array.map":38,"./polyfills/array.some":39,"./polyfills/function.bind":40,"./polyfills/object.keys":41,"./polyfills/string.trim":42,"./use":47,"./validators":48}],44:[function(require,module,exports){!function(global){var rome=require("./rome"),momentum=require("./momentum");if(rome.use(global.moment),void 0===momentum.moment)throw new Error("rome depends on moment.js, you can get it at http://momentjs.com, or you could use the bundled distribution file instead.");module.exports=rome}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./momentum":31,"./rome":43}],45:[function(require,module,exports){"use strict";module.exports=function(elem,value){return 2===arguments.length&&(elem.innerText=elem.textContent=value),elem.innerText||elem.textContent}},{}],46:[function(require,module,exports){"use strict";module.exports=function(fn,boundary){var timer,last=-1/0;return function(){timer||!function unbound(){clearTimeout(timer);timer=null;var next=last+boundary;var now=+new Date;next<now?(last=now,fn.apply(this,arguments)):timer=setTimeout(unbound,next-now)}()}}},{}],47:[function(require,module,exports){"use strict";var momentum=require("./momentum");module.exports=function(moment){this.moment=momentum.moment=moment}},{"./momentum":31}],48:[function(only,module,exports){"use strict";var index=only("./index"),parse=only("./parse"),association=only("./association");function compareBuilder(compare){return function(value){var fixed=parse(value);return function(right){var cal=index.find(value),left=parse(right),right=fixed||cal&&cal.getMoment();return!right||(cal&&association.add(this,cal),compare(left,right))}}}function rangeBuilder(how,compare){return function(start,end){var dates,len=arguments.length;return Array.isArray(start)?dates=start:1===len?dates=[start]:2===len&&(dates=[[start,end]]),function(date){return dates.map(function(value){var start,end,cal=index.find(value);cal?start=end=cal.getMoment():Array.isArray(value)?(start=value[0],end=value[1]):start=end=value;cal&&association.add(cal,this);return{start:parse(start).startOf("day").toDate(),end:parse(end).endOf("day").toDate()}}.bind(this))[how](compare.bind(this,date))}}}var afterEq=compareBuilder(function(left,right){return right<=left}),after=compareBuilder(function(left,right){return right<left}),beforeEq=compareBuilder(function(left,right){return left<=right}),before=compareBuilder(function(left,right){return left<right}),except=rangeBuilder("every",function(left,right){return right.start>left||right.end<left}),only=rangeBuilder("some",function(left,right){return right.start<=left&&right.end>=left});module.exports={afterEq:afterEq,after:after,beforeEq:beforeEq,before:before,except:except,only:only}},{"./association":20,"./index":27,"./parse":33}]},{},[44])(44)});
//# sourceMappingURL=rome.standalone.min.js.map
